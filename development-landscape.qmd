## Development Opportunity Landscape

```{r}
#| include: false
source("R/common.R")
```

Of the 104 parcels pulled from the VEREP GIS tool for examination, 4 were immediately removed from development opportunity consideration due to their size. These parcels were all under 0.1 acres -- likely cemetery plots, parking strips, or slivers of land.  Three of these tiny parcels belong to the same congregation, so while not candidates for independent development, they may hold value as part of a larger assemblage.

```{r}
#| echo: false
#| results: asis

library(kableExtra)

small_parcels <- property_profile %>%
  filter(area_acres <= 0.1) %>%
  select(name, congregation_name, scounty, area_acres) %>%
  mutate(
    sq_feet = round(area_acres * 43560, 0),
    sq_feet = format(sq_feet, big.mark = ","),
    area_acres = sprintf("%.03f", area_acres)
  )

small_parcels %>%
  kable(
    col.names = c("Property", "Congregation", "County", "Acres", "Sq Feet"),
    align = c("l", "l", "l", "r", "r")
  ) %>%
  kable_styling(
    bootstrap_options = c("striped", "hover", "condensed"),
    full_width = FALSE
  ) %>%
  print()


```

**This means ultimately only 100 parcels were scored and ranked for development opportuntity.**

```{r tier-distribution-visual}
#| echo: false

tier_data <- scored_parcels |>
  count(development_potential) |>
  mutate(
    pct = n / sum(n) * 100,
    color = case_when(
      development_potential == "High" ~ "#445ca9",
      development_potential == "Moderate" ~ "#8baeaa",
      development_potential == "Constrained" ~ "#909090",
      development_potential == "Too Large" ~ "#e76f52",
      development_potential == "Small Parcel" ~ "#e9ab3f",
      TRUE ~ "#cccccc"
    )
  )

ggplot(tier_data, aes(x = reorder(development_potential, n), y = n, fill = color)) +
  geom_col() +
  geom_text(aes(label = paste0(n, "\n(", round(pct, 1), "%)")), 
            vjust = 1.5, color = "white", size = 4, fontface = "bold") +
  scale_fill_identity() +
  labs(
    title = "Distribution of Properties by Development Tier",
    subtitle = paste0("Total Properties Analyzed: ", sum(tier_data$n)),
    x = "",
    y = "Number of Properties"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    plot.title = element_text(face = "bold", size = 16, color = "#445ca9"),
    axis.text.x = element_text(angle = 45, hjust = 1, size = 11),
    panel.grid.major.x = element_blank()
  )
```

Of the 100 properties analyzed with congregations under 30 Sunday attendees, **39 properties (39%) fall within the ideal development range** of chosen criteria. 

- **High Priority**: 16 properties (16%) — 1.5-5 acres with optimal development characteristics
- **Moderate Priority**: 23 properties (23%) — 0.5-1.5 acres with development potential

The remaining 61% face size or constraint limitations: **35 properties (35%) are small parcels** under 0.5 acres offering limited standalone development options; **11 properties (11%) are too large** (>5 acres) requiring phased development or specialized partners; and **15 properties (15%) are environmentally constrained** by wetlands, flood zones, or high natural hazard risk. 

This distribution reveals that while a significant minority of the portfolio presents actionable development opportunities, most properties face fundamental size constraints—either too small for economical development or too large for congregation-scale management.

