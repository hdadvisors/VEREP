## Development Opportunity Landscape

```{r}
#| include: false
source("R/common.R")
```


```{r tier-distribution-visual}
#| echo: false

tier_data <- property_profile |>
  count(development_potential) |>
  mutate(
    pct = n / sum(n) * 100,
    tier_order = case_when(
      development_potential == "High" ~ 1,
      development_potential == "Medium" ~ 2,
      development_potential == "Constrained" ~ 3,
      development_potential == "Small Parcel" ~ 4,
      development_potential == "Review Needed" ~ 5,
      TRUE ~ 6
    ),
    color = case_when(
      tier_order == 1 ~ "#999999",
      tier_order == 2 ~ "#8baeaa",
      tier_order == 3 ~ "#e9ab3f",
      tier_order == 4 ~ "#e76f52",
      tier_order == 5 ~ "#445ca9",
      TRUE ~ "#cccccc"
    )
  ) |>
  arrange(tier_order)

ggplot(tier_data, aes(x = reorder(development_potential, -tier_order), y = n, fill = color)) +
  geom_col() +
  geom_text(aes(label = paste0(n, "\n(", round(pct, 1), "%)")), 
            vjust = 1.5, color = "white", size = 4, fontface = "bold") +
  scale_fill_identity() +
  labs(
    title = "Distribution of Properties by Development Tier",
    subtitle = paste0("Total Properties Analyzed: ", sum(tier_data$n)),
    x = "",
    y = "Number of Properties"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    plot.title = element_text(face = "bold", size = 16, color = "#445ca9"),
    axis.text.x = element_text(angle = 45, hjust = 1, size = 11),
    panel.grid.major.x = element_blank()
  )
```
Within the properties we could match to congregations, none were considered "high" in development potential. Less than five have medium potential, with the vast majority either opportunities on small parcels or requiring additional data to determien their full potential. 
